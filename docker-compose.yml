services:
  frontend:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        NEXT_PUBLIC_API_URL: ${NEXT_PUBLIC_API_URL:-http://localhost:8000}
        NEXT_PUBLIC_API_BASE_PATH: ${NEXT_PUBLIC_API_BASE_PATH:-/api/v1}
        NEXT_PUBLIC_APP_NAME: ${NEXT_PUBLIC_APP_NAME:-PolystirolHub}
        NEXT_PUBLIC_APP_URL: ${NEXT_PUBLIC_APP_URL:-http://localhost:3000}
    container_name: polystirolhub-frontend
    ports:
      - '3000:3000'
    environment:
      - NODE_ENV=production
      - API_URL_INTERNAL=${API_URL_INTERNAL:-http://backend:8000}
    networks:
      - polystirolhub-network
    restart: unless-stopped

networks:
  polystirolhub-network:
    external: true
